<nav class="navbar navbar-expand-lg bg-body-secondary px-3 px-lg-1 xxl-navbar">
    <div class="container-fluid xxl-container">
        <a class="navbar-brand text-danger fs-3 fw-bold xxl-brand" routerLink="/">Netflix</a>
        <button class="navbar-toggler border-0 shadow-none xxl-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
            aria-label="Toggle navigation">
            <i class="ri-menu-4-line fs-4 text-danger xxl-toggler-icon"></i>
        </button>

        <div class="collapse navbar-collapse xxl-collapse pt-2 pt-lg-0" id="navbarSupportedContent">
            <!-- Mobile Only Content -->
            <div class="d-flex flex-column w-100 d-lg-none">
                <ul class="navbar-nav mb-3 gap-2">
                    <li class="nav-item">
                        <a class="nav-link active text-dark px-3 py-2" aria-current="page" routerLink="#">Movies</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-dark px-3 py-2" routerLink="#">TV Series</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-dark px-3 py-2" routerLink="#">Documentary</a>
                    </li>
                </ul>

                <form class="mb-3 xxl-search-form" *ngIf="isLoggedIn">
                    <div class="position-relative xxl-search-container">
                        <i
                            class="ri-search-line fs-5 position-absolute top-50 start-0 translate-middle-y ps-3 xxl-search-icon text-muted"></i>
                        <input class="form-control rounded-3 py-2 ps-5 xxl-search-input" type="search"
                            placeholder="Search Movie..." aria-label="Search" (input)="debouncedFunc($event)">
                    </div>
                </form>

                <button class="btn btn-danger py-2 fw-bold xxl-logout-btn" (click)="logout()" *ngIf="isLoggedIn">
                    <i class="ri-logout-box-r-line me-2"></i>Logout
                </button>

            </div>

            <!-- Desktop Only Content -->
            <div class="d-none d-lg-flex w-100 align-items-center">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-3 gap-lg-3 ps-0 ps-md-3 xxl-nav">
                    <li class="nav-item xxl-nav-item">
                        <a class="nav-link active text-dark xxl-nav-link" aria-current="page" routerLink="#">Movies</a>
                    </li>
                    <li class="nav-item xxl-nav-item">
                        <a class="nav-link text-dark xxl-nav-link" routerLink="#">TV Series</a>
                    </li>
                    <li class="nav-item xxl-nav-item">
                        <a class="nav-link text-dark xxl-nav-link" routerLink="#">Documentary</a>
                    </li>
                </ul>

                <form class="d-flex ms-lg-3 xxl-search-form" style="min-width: 150px;" *ngIf="isLoggedIn">
                    <div class="position-relative w-100 xxl-search-container">
                        <i
                            class="ri-search-line fs-5 position-absolute top-50 start-0 translate-middle-y ps-3 xxl-search-icon"></i>
                        <input class="form-control rounded-2 py-2 ps-5 xxl-search-input" type="search"
                            placeholder="Search Movie..." aria-label="Search" (input)="debouncedFunc($event)">
                    </div>
                </form>

                <button class="btn btn-outline-danger ms-3 w-lg-25 xxl-logout-btn" (click)="logout()"
                    *ngIf="isLoggedIn">
                    <i class="ri-logout-box-r-line me-2"></i>Logout
                </button>
                <button class="btn btn-outline-primary fw-bold ms-3 w-lg-25 xxl-signup-btn" (click)="signup()"
                    *ngIf="!isLoggedIn">
                    <i class="ri-user-add-line me-2"></i>Sign Up
                </button>
            </div>
        </div>
    </div>
</nav>

<!-- Search Results Box -->
<div *ngIf="searchedMovie[0] && isLoggedIn"
    class="searchBox w-100 h-75 overflow-auto position-absolute z-3 d-flex flex-column gap-5 py-5 xxl-search-results">

    <div class="searchItems xxl-search-item" role="button" *ngFor="let movie of searchedMovie">
        <a href="/movie-details/{{movie.id}}"
            class="d-flex align-items-center gap-5 px-5 text-decoration-none xxl-search-link">
            <img src="https://image.tmdb.org/t/p/original/{{movie.poster_path}}" class="img-fluid xxl-search-img"
                width="100px">

            <div class="xxl-search-text">
                <h2 class="fs-4 text-dark xxl-search-title">{{movie.title}}</h2>
                <p class="text-dark d-none d-md-block xxl-search-overview">{{movie.overview}}</p>
            </div>
        </a>
    </div>
</div>